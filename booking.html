<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Book a flight — Emirates Airlines (Unified)</title>
  <meta name="description" content="Book a virtual flight with Emirates Airlines (Unified) across PTFS and RO-Aviation." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Merriweather:wght@700&display=swap" rel="stylesheet">

  <style>
    :root {
      --brand-red: #c20e1a;
      --brand-red-dark: #8b0b13;
      --brand-gold: #b5892b;
      --charcoal: #252525;
      --ink: #111111;
      --ink-soft: #333333;
      --muted: #6b7280;
      --line: #e5e3df;
      --bg-page: #f5f3f1;
      --bg-card: #ffffff;
      --radius-lg: 18px;
      --radius-md: 12px;
      --shadow-soft: 0 16px 32px rgba(0,0,0,0.12);
      --shadow-subtle: 0 2px 6px rgba(0,0,0,0.18);
    }

    * { box-sizing: border-box; }
    html, body {
      margin: 0;
      padding: 0;
      background: var(--bg-page);
      color: var(--ink);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", sans-serif;
    }

    a {
      color: var(--brand-red);
      text-decoration: none;
    }
    a:hover { text-decoration: underline; }

    /* Top info ribbon */
    .top-info {
      background: #f7f1dc;
      color: #4b4b4b;
      font-size: 0.85rem;
      border-bottom: 1px solid #e0d7b9;
    }
    .top-info-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 6px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }

    /* Red brand strip */
    .brand-strip {
      background: var(--brand-red);
      color: #fff;
      font-size: 0.9rem;
    }
    .brand-strip-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 6px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }
    .brand-strip .mini-links a {
      color: #fff;
      opacity: 0.9;
      margin-left: 14px;
    }
    .brand-strip .mini-links a:hover { opacity: 1; }

    /* Nav */
    .nav {
      background: var(--charcoal);
      color: #fff;
      position: sticky;
      top: 0;
      z-index: 80;
      box-shadow: 0 2px 6px rgba(0,0,0,0.28);
    }
    .nav-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 12px 16px;
      display: flex;
      align-items: center;
      gap: 20px;
    }
    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 700;
      color: #fff;
      white-space: nowrap;
    }
    .brand-logo {
      width: 90px;
      height: 30px;
      border-radius: 6px;
      background: linear-gradient(180deg, #e51b24, #b3101a);
      position: relative;
      box-shadow: var(--shadow-subtle);
      overflow: hidden;
    }
    .brand-logo::after {
      content: "EGR";
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: 800;
      font-size: 0.9rem;
      letter-spacing: 0.16em;
    }
    .nav-menu {
      margin: 0;
      padding: 0;
      list-style: none;
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      flex: 1;
    }
    .nav-menu li a {
      display: block;
      padding: 8px 11px;
      border-radius: 999px;
      color: #f3f4f6;
      font-size: 0.87rem;
      font-weight: 500;
    }
    .nav-menu li a:hover {
      background: rgba(255,255,255,0.08);
      text-decoration: none;
    }
    .nav-menu .cta a {
      background: var(--brand-red);
      color: #fff;
      box-shadow: var(--shadow-subtle);
    }
    .nav-menu .cta a:hover {
      background: var(--brand-red-dark);
    }

    @media (max-width: 720px) {
      .nav-inner { flex-wrap: wrap; }
      .nav-menu { justify-content: flex-start; }
    }

    /* Page header / hero (simple) */
    .page-hero {
      background: #ffffff;
      border-bottom: 1px solid var(--line);
    }
    .page-hero-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 22px 18px 18px;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 10px;
      align-items: center;
    }
    .page-hero-title {
      font-family: Merriweather, Georgia, serif;
      font-size: 1.6rem;
      margin: 0 0 4px;
    }
    .page-hero-sub {
      margin: 0;
      font-size: 0.95rem;
      color: var(--muted);
    }
    .page-hero-tag {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #9ca3af;
      margin-bottom: 4px;
    }
    .badge-free {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: #ecfdf5;
      color: #16a34a;
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 0.8rem;
      border: 1px solid #bbf7d0;
    }

    /* Layout */
    .page-main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px 18px 40px;
      display: grid;
      grid-template-columns: minmax(0, 3.2fr) minmax(0, 2fr);
      gap: 24px;
      align-items: flex-start;
    }
    @media (max-width: 900px) {
      .page-main {
        grid-template-columns: minmax(0,1fr);
      }
    }

    .card {
      background: var(--bg-card);
      border-radius: var(--radius-lg);
      border: 1px solid var(--line);
      box-shadow: var(--shadow-soft);
      padding: 18px 18px 18px;
    }

    .card h2, .card h3 {
      margin-top: 0;
      font-family: Merriweather, Georgia, serif;
    }
    .card h2 { font-size: 1.25rem; margin-bottom: 10px; }
    .card h3 { font-size: 1rem; margin-bottom: 6px; }
    .card p {
      margin: 4px 0 10px;
      font-size: 0.9rem;
      color: var(--muted);
    }

    /* Form */
    .form-section {
      border-top: 1px solid #eee;
      padding-top: 12px;
      margin-top: 10px;
    }
    .form-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 12px 16px;
    }
    .form-row {
      margin-bottom: 12px;
    }
    .form-label {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      font-size: 0.85rem;
      font-weight: 600;
      margin-bottom: 4px;
      color: #374151;
    }
    .form-label span.hint {
      font-weight: 400;
      color: #9ca3af;
      font-size: 0.78rem;
    }
    .form-input,
    .form-select,
    .form-textarea {
      width: 100%;
      border-radius: 10px;
      border: 1px solid var(--line);
      padding: 8px 10px;
      font-size: 0.9rem;
      font-family: inherit;
      outline: none;
      background: #fff;
    }
    .form-input:focus,
    .form-select:focus,
    .form-textarea:focus {
      border-color: var(--brand-red);
      box-shadow: 0 0 0 1px rgba(194,14,26,0.18);
    }
    .form-textarea {
      min-height: 70px;
      resize: vertical;
    }

    .inline-note {
      font-size: 0.8rem;
      color: #9ca3af;
      margin-top: 4px;
    }

    .pill-note {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.8rem;
      padding: 6px 10px;
      border-radius: 999px;
      background: #fffbeb;
      border: 1px solid #facc15;
      color: #92400e;
      margin-bottom: 6px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      padding: 10px 16px;
      border-radius: 999px;
      border: none;
      background: var(--brand-red);
      color: #fff;
      font-weight: 600;
      font-size: 0.9rem;
      cursor: pointer;
      box-shadow: var(--shadow-soft);
    }
    .btn:hover {
      background: var(--brand-red-dark);
      text-decoration: none;
    }
    .btn.secondary {
      background: #f3f4f6;
      color: #111827;
      box-shadow: none;
    }
    .btn.secondary:hover {
      background: #e5e7eb;
    }
    .btn-full {
      width: 100%;
      justify-content: center;
    }

    .passenger-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }
    .passenger-count {
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    .passenger-count input {
      width: 56px;
      text-align: center;
      padding: 6px 4px;
      border-radius: 999px;
      border: 1px solid var(--line);
      font-size: 0.9rem;
    }

    .passenger-card {
      border-radius: var(--radius-md);
      border: 1px solid #e5e7eb;
      padding: 10px 12px 10px;
      background: #f9fafb;
      margin-bottom: 10px;
    }
    .passenger-title {
      font-weight: 600;
      font-size: 0.9rem;
      margin-bottom: 6px;
    }

    .status-banner {
      margin-top: 12px;
      padding: 10px 12px;
      border-radius: 10px;
      font-size: 0.85rem;
    }
    .status-banner.info {
      background: #eff6ff;
      color: #1d4ed8;
      border: 1px solid #bfdbfe;
    }
    .status-banner.success {
      background: #ecfdf5;
      color: #15803d;
      border: 1px solid #bbf7d0;
    }
    .status-banner.error {
      background: #fef2f2;
      color: #b91c1c;
      border: 1px solid #fecaca;
    }
    .status-banner strong {
      font-weight: 600;
    }

    /* Sidebar summary card */
    .summary-item {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 4px;
      font-size: 0.9rem;
    }
    .summary-item span.label {
      color: #6b7280;
    }
    .summary-item span.value {
      font-weight: 600;
    }
    .pill-free {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 9px;
      border-radius: 999px;
      background: #ecfdf5;
      color: #16a34a;
      font-size: 0.78rem;
      border: 1px solid #bbf7d0;
    }
    ul.small-list {
      margin: 6px 0 0;
      padding-left: 16px;
      font-size: 0.85rem;
      color: #6b7280;
    }

    /* Footer (same system as index) */
    footer {
      width: 100%;
      background: #222;
      color: #e5e7eb;
      margin-top: 40px;
      font-size: 14px;
      border-top: 2px solid var(--brand-red);
    }
    .footer-main {
      max-width: 1260px;
      margin: 0 auto;
      padding: 32px 24px 36px;
      display: flex;
      flex-wrap: wrap;
      justify-content: flex-start;
      align-items: flex-start;
      gap: 32px 60px;
    }
    .footer-col {
      flex: 0 0 210px;
      min-width: 180px;
    }
    .footer-col h4 {
      margin: 0 0 10px;
      font-size: 13px;
      color: #ffffff;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }
    .footer-links {
      list-style: none;
      margin: 0;
      padding: 0;
    }
    .footer-links li { margin: 4px 0; }
    .footer-links a {
      color: #d1d5db;
      text-decoration: none;
    }
    .footer-links a:hover {
      color: #ffffff;
      text-decoration: underline;
    }
    .footer-bottom {
      background: #1a1a1a;
      border-top: 1px solid #333;
      padding: 12px 0 14px;
    }
    .footer-bottom-inner {
      max-width: 1260px;
      margin: 0 auto;
      padding: 0 24px;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 10px;
      font-size: 12px;
      color: #9ca3af;
    }
    .footer-bottom-links {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .footer-bottom-links a {
      color: #9ca3af;
      text-decoration: none;
    }
    .footer-bottom-links a:hover {
      color: #ffffff;
      text-decoration: underline;
    }
    .footer-logo-flag {
      width: 80px;
      height: 28px;
      border-radius: 4px;
      background: linear-gradient(180deg, #e51b24, #b40f1a);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 11px;
      letter-spacing: 0.15em;
      color: #fff;
    }
    @media (max-width: 900px) {
      .footer-main { gap: 24px 32px; }
      .footer-col { flex: 1 1 45%; }
    }
    @media (max-width: 600px) {
      .footer-col { flex: 1 1 100%; }
      .footer-bottom-inner {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>

  <!-- Light info bar -->
  <div class="top-info">
    <div class="top-info-inner">
      <div><strong>Virtual operations notice:</strong> All flights are for Roblox roleplay only.</div>
      <div><a href="flight-status.html">View live flight status</a></div>
    </div>
  </div>

  <!-- Red brand strip -->
  <div class="brand-strip">
    <div class="brand-strip-inner">
      <div><strong>Emirates Airlines (Unified)</strong> — a virtual experience by Emirates Group Roblox</div>
      <div class="mini-links">
        <a href="links.html">Links</a>
        <a href="legal.html">Legal</a>
      </div>
    </div>
  </div>

  <!-- Navigation -->
  <nav class="nav" aria-label="Primary">
    <div class="nav-inner">
      <a class="brand" href="index.html">
        <span class="brand-logo" aria-hidden="true"></span>
        <span>Emirates Airlines (Unified)</span>
      </a>

      <ul class="nav-menu">
        <li><a href="booking.html">Book</a></li>
        <li><a href="checkin.html">Online check-in</a></li>
        <li><a href="flight-status.html">Flight status</a></li>
        <li><a href="discover.html">Discover</a></li>
        <li><a href="skywards.html">Skywards</a></li>
        <li><a href="staff.html">Our staff</a></li>
        <li><a href="about.html">About us</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li class="cta"><a href="booking.html">Book a flight</a></li>
      </ul>
    </div>
  </nav>

  <!-- Page hero -->
  <header class="page-hero">
    <div class="page-hero-inner">
      <div>
        <div class="page-hero-tag">Book a flight</div>
        <h1 class="page-hero-title">Create your Emirates Unified booking</h1>
        <p class="page-hero-sub">
          Choose your simulator, route and cabin. Once you submit, our staff will review availability and contact you on Discord.
        </p>
      </div>
      <div>
        <div class="badge-free">
          <span>•</span>
          <span>Economy Class is free</span>
        </div>
      </div>
    </div>
  </header>

  <!-- Main content -->
  <main class="page-main">
    <!-- Booking form -->
    <section class="card" aria-label="Booking form">
      <h2>Flight details</h2>
      <p>Complete this form as accurately as possible. One booking reference will be generated for your entire party.</p>

      <form id="bookingForm" novalidate>
        <!-- Journey section -->
        <div class="form-section">
          <h3>Journey</h3>
          <div class="form-grid">
            <div class="form-row">
              <label class="form-label" for="simulator">
                Simulator
              </label>
              <select id="simulator" name="simulator" class="form-select" required>
                <option value="PTFS" selected>PTFS (Pilot Training Flight Simulator)</option>
                <option value="RO-Aviation">RO-Aviation</option>
              </select>
            </div>

            <div class="form-row">
              <label class="form-label" for="cabin">
                Cabin class
                <span class="hint">Economy free • others by approval</span>
              </label>
              <select id="cabin" name="cabin" class="form-select" required>
                <option value="Economy">Economy (Free)</option>
                <option value="Premium Economy">Premium Economy</option>
                <option value="Business">Business Class</option>
                <option value="First">First Class</option>
              </select>
              <div class="inline-note">
                Business & First require Investor access rank or a valid purchase reference for this flight. A staff member will verify after booking.
              </div>
            </div>

            <div class="form-row">
              <label class="form-label" for="from">
                Departure airport
                <span class="hint">PTFS / ROAV code or name</span>
              </label>
              <input id="from" name="from" class="form-input" placeholder="e.g. Greater Rockford International" required>
            </div>

            <div class="form-row">
              <label class="form-label" for="to">
                Arrival airport
              </label>
              <input id="to" name="to" class="form-input" placeholder="e.g. Dubai International" required>
            </div>

            <div class="form-row">
              <label class="form-label" for="date">
                Preferred flight date
              </label>
              <input id="date" name="date" type="date" class="form-input" required>
            </div>

            <div class="form-row">
              <label class="form-label" for="timeOfDay">
                Time of day (local to hub)
              </label>
              <select id="timeOfDay" name="timeOfDay" class="form-select">
                <option value="Any">Any</option>
                <option value="Morning">Morning</option>
                <option value="Afternoon">Afternoon</option>
                <option value="Evening">Evening</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Passengers section -->
        <div class="form-section">
          <div class="passenger-header">
            <h3>Passengers</h3>
            <div class="passenger-count">
              <span style="font-size:0.85rem;color:#6b7280;">Number of passengers</span>
              <input type="number" id="passengerCount" min="1" max="8" value="1">
            </div>
          </div>
          <p class="inline-note">
            For each passenger, provide Roblox username, Discord username and Discord ID. If booking for multiple people, fill in everyone’s details.
          </p>
          <div id="passengerContainer"></div>
        </div>

        <!-- Contact section -->
        <div class="form-section">
          <h3>Contact for this booking</h3>
          <div class="form-grid">
            <div class="form-row">
              <label class="form-label" for="primaryDiscord">
                Primary Discord username
                <span class="hint">Who our staff should DM</span>
              </label>
              <input id="primaryDiscord" name="primaryDiscord" class="form-input" placeholder="e.g. ExampleUser#0000" required>
            </div>
            <div class="form-row">
              <label class="form-label" for="primaryDiscordId">
                Primary Discord ID
              </label>
              <input id="primaryDiscordId" name="primaryDiscordId" class="form-input" placeholder="Numeric ID (optional but recommended)">
            </div>
          </div>

          <div class="form-row">
            <label class="form-label" for="notes">
              Additional notes
              <span class="hint">special requests, investor details, purchase refs, etc.</span>
            </label>
            <textarea id="notes" name="notes" class="form-textarea" placeholder="Example: Investor rank on main group, purchase reference #INV-123 for First Class upgrade..."></textarea>
          </div>
        </div>

        <!-- Consent & submit -->
        <div class="form-section">
          <div class="pill-note">
            <span>ℹ</span>
            <span>Once submitted, a staff member will review your booking and contact you on Discord to confirm availability and validate any paid cabins.</span>
          </div>
          <div class="form-row">
            <label style="font-size:0.8rem;color:#4b5563;">
              <input type="checkbox" id="agree" required style="margin-right:6px;">
              I confirm all details are correct and understand that this booking is for a virtual flight on Roblox only.
            </label>
          </div>
          <button type="submit" class="btn btn-full">Submit booking request</button>

          <div id="statusArea" class="status-banner info" style="display:none;margin-top:10px;">
            <strong>Status:</strong> Submitting your booking…
          </div>
        </div>
      </form>
    </section>

    <!-- Sidebar summary / info -->
    <aside class="card" aria-label="Booking information">
      <h2>Your booking summary</h2>
      <p>These details help our team quickly understand your request when it arrives in our Discord control panel.</p>

      <div class="summary-item">
        <span class="label">Simulator</span>
        <span class="value" id="summarySimulator">PTFS</span>
      </div>
      <div class="summary-item">
        <span class="label">Cabin</span>
        <span class="value" id="summaryCabin">Economy (Free)</span>
      </div>
      <div class="summary-item">
        <span class="label">Passengers</span>
        <span class="value" id="summaryPax">1</span>
      </div>
      <div class="summary-item">
        <span class="label">Route</span>
        <span class="value" id="summaryRoute">–</span>
      </div>
      <div class="summary-item">
        <span class="label">Preferred date</span>
        <span class="value" id="summaryDate">–</span>
      </div>

      <hr style="border:none;border-top:1px solid #e5e7eb;margin:14px 0;">

      <h3>Cabin rules</h3>
      <div style="display:flex;flex-wrap:wrap;gap:8px;margin-bottom:6px;">
        <span class="pill-free">Economy Class is free</span>
      </div>
      <ul class="small-list">
        <li>Premium Economy, Business and First are subject to staff approval.</li>
        <li>Business & First require Investor access rank <em>or</em> a valid purchase reference for that flight.</li>
        <li>A staff member will always confirm your booking on Discord.</li>
      </ul>

      <h3 style="margin-top:14px;">After booking</h3>
      <ul class="small-list">
        <li>We generate a unique booking reference (like <strong>EGR4K7M2</strong>).</li>
        <li>You’ll use this reference to check in on the website.</li>
        <li>Keep the reference and primary Roblox username safe.</li>
      </ul>
    </aside>
  </main>

  <!-- FOOTER (same as index) -->
  <footer>
    <div class="footer-main">

      <div class="footer-col">
        <h4>About us</h4>
        <ul class="footer-links">
          <li><a href="#">About Emirates Airlines (Unified)</a></li>
          <li><a href="#">Careers (Virtual)</a></li>
          <li><a href="#">Our virtual business</a></li>
          <li><a href="#">Our planet (sustainability)</a></li>
          <li><a href="#">Our people</a></li>
          <li><a href="#">Our communities</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Help</h4>
        <ul class="footer-links">
          <li><a href="#">Help and contact</a></li>
          <li><a href="#">Travel updates</a></li>
          <li><a href="#">Special assistance</a></li>
          <li><a href="#">Frequently asked questions</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Book</h4>
        <ul class="footer-links">
          <li><a href="booking.html">Book flights</a></li>
          <li><a href="#">Travel services</a></li>
          <li><a href="#">Transportation</a></li>
          <li><a href="#">Planning your trip</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Manage</h4>
        <ul class="footer-links">
          <li><a href="checkin.html">Check-in</a></li>
          <li><a href="#">Manage your booking</a></li>
          <li><a href="#">Chauffeur drive</a></li>
          <li><a href="flight-status.html">Flight status</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Before you fly</h4>
        <ul class="footer-links">
          <li><a href="#">Baggage</a></li>
          <li><a href="#">Visa and passport info</a></li>
          <li><a href="#">Health</a></li>
          <li><a href="#">Travel information</a></li>
          <li><a href="#">Dubai International (virtual)</a></li>
          <li><a href="#">To and from the airport</a></li>
          <li><a href="#">Rules and notices</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Where we fly</h4>
        <ul class="footer-links">
          <li><a href="route-map.html">Route map</a></li>
          <li><a href="#">Africa</a></li>
          <li><a href="#">Asia and Pacific</a></li>
          <li><a href="#">Europe</a></li>
          <li><a href="#">The Americas</a></li>
          <li><a href="#">The Middle East</a></li>
          <li><a href="#">All destinations</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Experience</h4>
        <ul class="footer-links">
          <li><a href="#">Cabin features</a></li>
          <li><a href="#">Shop Emirates (virtual)</a></li>
          <li><a href="#">What's on your flight</a></li>
          <li><a href="#">Inflight entertainment</a></li>
          <li><a href="#">Dining</a></li>
          <li><a href="#">Our lounges</a></li>
          <li><a href="#">Dubai stopover</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Loyalty</h4>
        <ul class="footer-links">
          <li><a href="#">Log in to Emirates Skywards</a></li>
          <li><a href="#">Join Emirates Skywards</a></li>
          <li><a href="#">Our partners</a></li>
          <li><a href="#">Business Rewards benefits</a></li>
          <li><a href="#">Register your company</a></li>
          <li><a href="#">Skywards programme rules</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Subscribe</h4>
        <p>Get the latest virtual fares and offers from Emirates Group Roblox.</p>
      </div>

      <div class="footer-col">
        <h4>Connect with us</h4>
        <p>Share your Emirates Group Roblox experience.</p>
      </div>

    </div>

    <div class="footer-bottom">
      <div class="footer-bottom-inner">
        <div class="footer-bottom-links">
          <a href="#">Accessibility</a>
          <a href="contact.html">Contact</a>
          <a href="#">Privacy</a>
          <a href="#">Terms</a>
          <a href="#">Cookie policy</a>
          <a href="#">Cybersecurity</a>
          <a href="#">Sitemap</a>
        </div>
        <div style="display:flex;align-items:center;gap:10px;">
          <span>© 2025 Emirates Group Roblox. All rights reserved.</span>
          <div class="footer-logo-flag">EGR</div>
        </div>
      </div>
      <div class="footer-bottom-inner" style="border-top:1px solid #333; margin-top:8px;">
        <span>
          This is a fan-made virtual experience and is <strong>not affiliated with, sponsored by, or endorsed by Emirates or the Emirates Group.</strong>
        </span>
      </div>
    </div>
  </footer>

  <script>

  // ---- BOT API CONFIG ----
const BOT_API_BASE = 'https://your-bot-api-host-here'; 
// e.g. https://egr-bot.yourdomain.com when you host the bot
// For now, you can leave it as "" and we’ll safely skip.

    // ---- CONFIG ----
    const DISCORD_WEBHOOK_URL =
      "https://discord.com/api/webhooks/1437125545241608232/1vHITBSy6nFEGwCqkOUFVmCC7q8SO0b-W08PL1yaSt9tIAkxtHrxZqW9_s7PfQmiblrY";

    // ---- Helpers ----
    function generateBookingRef() {
      const chars = "ABCDEFGHJKMNPQRSTUVWXYZ23456789";
      let ref = "EGR";
      for (let i = 0; i < 6; i++) {
        ref += chars[Math.floor(Math.random() * chars.length)];
      }
      return ref;
    }

    function createPassengerCard(index) {
      const wrapper = document.createElement("div");
      wrapper.className = "passenger-card";
      wrapper.innerHTML = `
        <div class="passenger-title">Passenger ${index}</div>
        <div class="form-grid">
          <div class="form-row">
            <label class="form-label" for="p${index}-roblox">
              Roblox username
            </label>
            <input id="p${index}-roblox" name="p${index}-roblox" class="form-input" required>
          </div>
          <div class="form-row">
            <label class="form-label" for="p${index}-discord">
              Discord username
            </label>
            <input id="p${index}-discord" name="p${index}-discord" class="form-input" placeholder="ExampleUser#0000" required>
          </div>
        </div>
        <div class="form-row">
          <label class="form-label" for="p${index}-discordId">
            Discord ID <span class="hint">optional but recommended</span>
          </label>
          <input id="p${index}-discordId" name="p${index}-discordId" class="form-input">
        </div>
      `;
      return wrapper;
    }

    function renderPassengers() {
      const count = Number(document.getElementById("passengerCount").value || 1);
      const container = document.getElementById("passengerContainer");
      container.innerHTML = "";
      const clamped = Math.min(Math.max(count, 1), 8);
      for (let i = 1; i <= clamped; i++) {
        container.appendChild(createPassengerCard(i));
      }
      document.getElementById("passengerCount").value = clamped;
      document.getElementById("summaryPax").textContent = clamped;
    }

    function updateSummary() {
      const sim = document.getElementById("simulator").value;
      const cabin = document.getElementById("cabin").value;
      const from = document.getElementById("from").value.trim();
      const to = document.getElementById("to").value.trim();
      const date = document.getElementById("date").value;

      document.getElementById("summarySimulator").textContent = sim;
      let cabinLabel = cabin;
      if (cabin === "Economy") cabinLabel = "Economy (Free)";
      document.getElementById("summaryCabin").textContent = cabinLabel;

      document.getElementById("summaryRoute").textContent =
        from && to ? `${from} → ${to}` :
        from ? `${from} → ?` :
        to ? `? → ${to}` : "–";

      document.getElementById("summaryDate").textContent = date || "–";
    }

    // ---- Init ----
    renderPassengers();
    updateSummary();

    document.getElementById("passengerCount").addEventListener("change", renderPassengers);
    ["simulator","cabin","from","to","date"].forEach(id => {
      document.getElementById(id).addEventListener("input", updateSummary);
      document.getElementById(id).addEventListener("change", updateSummary);
    });

    const statusArea = document.getElementById("statusArea");

    function setStatus(type, message) {
      statusArea.style.display = "block";
      statusArea.className = "status-banner " + type;
      statusArea.innerHTML = message;
    }

    // ---- Submit handler ----
    document.getElementById("bookingForm").addEventListener("submit", async (e) => {
      e.preventDefault();

      // Basic front-end check
      if (!document.getElementById("agree").checked) {
        setStatus("error", "<strong>Check your details:</strong> please confirm you understand this is a virtual Roblox flight.");
        return;
      }

      const sim = document.getElementById("simulator").value;
      const cabin = document.getElementById("cabin").value;
      const from = document.getElementById("from").value.trim() || "Not provided";
      const to = document.getElementById("to").value.trim() || "Not provided";
      const date = document.getElementById("date").value || "Not provided";
      const timeOfDay = document.getElementById("timeOfDay").value;
      const paxCount = Number(document.getElementById("passengerCount").value || 1);

      const primaryDiscord = document.getElementById("primaryDiscord").value.trim();
      const primaryDiscordId = document.getElementById("primaryDiscordId").value.trim();
      const notes = document.getElementById("notes").value.trim();

      const passengers = [];
      for (let i = 1; i <= paxCount; i++) {
        const roblox = document.getElementById(`p${i}-roblox`).value.trim();
        const discordUser = document.getElementById(`p${i}-discord`).value.trim();
        const discordId = document.getElementById(`p${i}-discordId`).value.trim();
        if (!roblox || !discordUser) {
          setStatus("error", `<strong>Missing info:</strong> please fill in Roblox & Discord usernames for passenger ${i}.`);
          return;
        }
        passengers.push({ index: i, roblox, discordUser, discordId });
      }

      const bookingRef = generateBookingRef();

      // Build a nice Discord embed
      const passengerLines = passengers.map(p =>
        `**#${p.index}**\nRoblox: \`${p.roblox}\`\nDiscord: \`${p.discordUser}\`${p.discordId ? `\nDiscord ID: \`${p.discordId}\`` : ""}`
      ).join("\n\n");

      const embed = {
        title: `New booking — ${sim} ${from} → ${to}`,
        description: `A new booking request has been submitted from the website.\n\n**Booking reference:** \`${bookingRef}\``,
        color: 0xc20e1a,
        fields: [
          { name: "Simulator", value: sim, inline: true },
          { name: "Cabin", value: cabin, inline: true },
          { name: "Passengers", value: String(paxCount), inline: true },
          { name: "Route", value: `${from} → ${to}`, inline: false },
          { name: "Preferred date / time", value: `${date} • ${timeOfDay}`, inline: false },
          {
            name: "Primary contact",
            value: `Discord: \`${primaryDiscord}\`${primaryDiscordId ? `\nID: \`${primaryDiscordId}\`` : ""}`,
            inline: false
          },
          {
            name: "Passengers",
            value: passengerLines || "No passenger details provided.",
            inline: false
          }
        ],
        footer: {
          text: "Emirates Airlines (Unified) — Booking system"
        },
        timestamp: new Date().toISOString()
      };

      if (notes) {
        embed.fields.push({
          name: "Additional notes",
          value: notes.substring(0, 1024),
          inline: false
        });
      }

      setStatus("info", "<strong>Status:</strong> Submitting your booking to our Discord control panel…");

      try {
        const res = await fetch(DISCORD_WEBHOOK_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            username: "Emirates Unified — Bookings",
            embeds: [embed]
          })
        });

        if (!res.ok) {
          throw new Error("Webhook returned " + res.status);
        }

        setStatus(
          "success",
          `<strong>Booking submitted!</strong> Your booking reference is <strong>${bookingRef}</strong>.<br>Keep this safe — you’ll need it for online check-in. A staff member will contact you on Discord once your cabin is validated.`
        );

        // Optional: reset form except simulator/cabin/passenger count
        // e.target.reset(); // comment this out if you prefer to keep values
      } catch (err) {
        console.error(err);
        setStatus(
          "error",
          "<strong>Something went wrong.</strong> We couldn't send your booking to Discord. Please try again later or contact a staff member."
        );
      }
    });
  </script>
</body>
</html>
